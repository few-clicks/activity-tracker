# Router

- [Router](#router)
- [Hash Router](#hash-router)
- [Класс Router](#класс-router)
- [Пример использования](#пример-использования)

Router предназначен для управления навигацией между страницами или разделами одностраничного приложения (SPA). Он интерпретирует URL-адреса, указанные в адресной строке браузера, и определяет, какой контент или компонент следует отобразить пользователю в соответствии с текущим путём (маршрутом).

# Hash Router
Hash Router — это тип router'а, который использует хеш-фрагменты URL (текст после символа #) для управления навигацией. В отличие от традиционной навигации, которая полагается на сервер для получения новой страницы, hash router обрабатывает переходы локально в браузере пользователя.

Каталог `src/router` в проекте веб-приложения предназначен для хранения и управления всеми аспектами маршрутизации приложения.

## Класс `Router`

- **Конструктор**:
  - Инициализирует экземпляр класса Router, устанавливает базовые настройки и обработчики событий. Это фундаментальный метод, который активирует роутер и настраивает его для работы с хеш-маршрутизацией.

- **`initRoutes(routes)`**:
  - Инициализирует определения маршрутов.
  - Параметр: `routes` — это объект, где ключи являются путями, а значения — компонентами страниц.

- **`initPageContainer(element)`**:
  - Устанавливает контейнер, в котором будет отображаться содержимое страницы.
  - Параметр: `element` — это DOM-элемент, назначенный контейнером страницы.

- **`_activeClassResolver(eventType, callback)`** (Приватный метод):
  - Присоединяет обработчик событий для определённого типа события.
  - Вызывает `callback` с текущим хешем или '#' если хеш пуст.

- **`updateActiveClass(callback)`**:
  - Обновляет активный класс элементов навигации.
  - Использует `_activeClassResolver` для привязки `callback` к событиям `hashchange` и `DOMContentLoaded`.

- **`navigate(url)`**:
  - Осуществляет навигацию по заданному URL.
  - Параметр: `url` — это новый фрагмент хеша для навигации.

- **`isActive(url)`**:
  - Проверяет, активен ли данный URL.
  - Возвращает `true`, если текущий хеш URL совпадает с указанным URL.

- **`_updatePage(element)`** (Приватный метод):
  - Очищает содержимое контейнера страницы и добавляет в него новый элемент.
  - Параметр: `element` — это DOM-элемент, который будет отображаться на странице.

- **`_resolve()`** (Приватный метод):
  - Определяет, какое содержимое отображать на основе текущего хеша URL.
  - Отображает домашнюю страницу, если хеш пуст, или соответствующую страницу, если найден соответствующий маршрут.
  - Показывает сообщение "404 | Not Found", если страница не найдена.

## Пример использования

Для обеспечения навигации и управления состоянием отображения различных страниц в приложении, используется механизм маршрутизации. Маршрутизатор инициализируется и настраивается для связывания URL-путей с соответствующими компонентами страниц, определёнными в слое pages.

В `app/index.js` для начала, необходимо импортировать функции, возвращающие страницы, и сам маршрутизатор
```javascript
import { getAboutPage, getHomePage } from './pages';
import router from './app/router';
```
Для работы маршрутизации необходимо инициализировать контейнер страниц и определить маршруты.
После инициализации, маршрутизатор автоматически обрабатывает изменения в адресной строке браузера (или другие события, вызывающие навигацию) и отображает соответствующий компонент страницы в предопределённом контейнере. <br>
Это обеспечивает динамическую навигацию в одностраничном приложении (SPA) без необходимости полной перезагрузки страницы.

```javascript
router.initPageContainer(pageContainer);
router.initRoutes({
  '/': getHomePage(),
  '/about': getAboutPage(),
});
```

